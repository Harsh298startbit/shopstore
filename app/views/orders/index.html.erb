<div class="hero-wrap hero-bread" style="background-image: url('<%= asset_path("bg_1.jpg") %>');">
  <div class="container">
    <div class="row no-gutters slider-text align-items-center justify-content-center">
      <div class="col-md-9 ftco-animate text-center">
        <p class="breadcrumbs">
          <span class="mr-2"><%= link_to "Home", root_path %></span>
          <span>My Orders</span>
        </p>
        <h1 class="mb-0 bread">My Orders</h1>
      </div>
    </div>
  </div>
</div>

<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <% if @orders.any? %>
          <div class="mb-4">
            <h4 class="d-flex align-items-center">
              <i class="ion-ios-list-box-outline mr-2"></i>
              Order History
              <span class="badge badge-primary ml-2"><%= @orders.total_entries %></span>
            </h4>
          </div>

          <% @orders.each do |order| %>
            <div class="card shadow-sm mb-4 border-0">
              <div class="card-body p-4">
                <div class="row align-items-center mb-3">
                  <div class="col-md-6">
                    <h5 class="mb-1">
                      <i class="ion-ios-document-outline mr-2"></i>
                      Order #<%= order.order_number %>
                    </h5>
                    <p class="text-muted mb-0">
                      <i class="ion-ios-calendar-outline mr-1"></i>
                      <%= order.created_at.strftime("%B %d, %Y at %I:%M %p") %>
                    </p>
                  </div>
                  <div class="col-md-6 text-md-right mt-2 mt-md-0">
                    <span class="badge badge-pill px-3 py-2 <%= 
                      case order.status
                      when 'paid', 'completed' then 'badge-success'
                      when 'pending', 'processing' then 'badge-warning'
                      when 'failed', 'cancelled' then 'badge-danger'
                      else 'badge-secondary'
                      end
                    %>" style="font-size: 13px;">
                      <i class="<%= 
                        case order.status
                        when 'paid', 'completed' then 'ion-ios-checkmark-circle-outline'
                        when 'pending', 'processing' then 'ion-ios-time-outline'
                        when 'failed', 'cancelled' then 'ion-ios-close-circle-outline'
                        else 'ion-ios-information-circle-outline'
                        end
                      %> mr-1"></i>
                      <%= order.status.titleize %>
                    </span>
                  </div>
                </div>

                <hr class="my-3">

                <div class="row align-items-center">
                  <div class="col-md-6 mb-3 mb-md-0">
                    <div class="d-flex align-items-center">
                      <div class="mr-4">
                        <p class="text-muted mb-0" style="font-size: 13px;">
                          <i class="ion-ios-cart-outline mr-1"></i>
                          Items
                        </p>
                        <h6 class="mb-0"><%= pluralize(order.order_items.count, 'item') %></h6>
                      </div>
                      <div>
                        <p class="text-muted mb-0" style="font-size: 13px;">
                          <i class="ion-ios-pricetag-outline mr-1"></i>
                          Total Amount
                        </p>
                        <h5 class="mb-0 text-success">
                          â‚¹<%= number_with_precision(order.total_amount, precision: 2) %>
                        </h5>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 text-md-right">
                    <%= link_to order_path(order), class: "btn btn-outline-primary mr-2" do %>
                      <i class="ion-ios-eye-outline mr-1"></i>View Details
                    <% end %>
                    
                    <% if order.pending? %>
                      <%= link_to checkout_order_path(order), class: "btn btn-success" do %>
                        <i class="ion-ios-card-outline mr-1"></i>Complete Payment
                      <% end %>
                    <% end %>
                  </div>
                </div>
              </div>
            </div>
          <% end %>

          <!-- Pagination -->
          

        <% else %>
          <!-- Empty State -->
          <div class="card shadow-sm border-0">
            <div class="card-body text-center py-5">
              <div class="empty-state-icon mb-4">
                <i class="ion-ios-cart-outline" style="font-size: 80px; color: #ccc;"></i>
              </div>
              <h3 class="mb-3">No Orders Yet</h3>
              <p class="text-muted mb-4">
                You haven't placed any orders yet.<br>
                Start shopping to create your first order!
              </p>
              <%= link_to products_path, class: "btn btn-primary btn-lg px-5" do %>
                <i class="ion-ios-cart-outline mr-2"></i>Start Shopping
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</section>



<style>
  .card {
    border-radius: 10px;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1) !important;
  }

  .badge-pill {
    font-weight: 600;
    letter-spacing: 0.3px;
  }

  .btn {
    border-radius: 6px;
    font-weight: 600;
    transition: all 0.3s ease;
    padding: 10px 20px;
  }

  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }

  .btn-outline-primary {
    border: 2px solid #007bff;
  }

  .btn-outline-primary:hover {
    background-color: #007bff;
    color: white;
  }

  .empty-state-icon {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  /* Pagination Styling */
  .block-27 ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

  .block-27 ul li {
    display: inline-block;
    margin: 2px;
  }

  .block-27 ul li a,
  .block-27 ul li span {
    color: #000000;
    text-align: center;
    display: inline-block;
    width: 40px;
    height: 40px;
    line-height: 40px;
    border-radius: 50%;
    border: 1px solid #e6e6e6;
  }

  .block-27 ul li.active a,
  .block-27 ul li.active span {
    background: #82ae46;
    color: #fff;
    border: 1px solid transparent;
  }

  .block-27 ul li a:hover,
  .block-27 ul li span:hover {
    border: 1px solid #82ae46;
    background: #82ae46;
    color: #fff;
  }

  .block-27 ul li.disabled span {
    color: #ccc;
    cursor: not-allowed;
  }
</style>